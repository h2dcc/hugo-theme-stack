{{- $scope := default "homepage" .Scope -}}
{{- $context := .Context -}}
{{- with (index .Context.Site.Params.widgets $scope) -}}
    <aside class="sidebar right-sidebar sticky">
        {{ range $widget := . }}
            {{ if templates.Exists (printf "partials/widget/%s.html" .type) }}
                <!-- Ensure that the `params` is not nil -->
                {{- $params := default dict .params -}}

                {{ partial (printf "widget/%s" .type) (dict "Context" $context "Params" $params) }}
            {{ else }}
                {{ warnf "Widget %s not found" .type }}
            {{ end }}
        {{ end }}

        {{ $rssUrl := "https://news.lawtee.com/feed/" }} <!-- 替换为你的 RSS 地址 -->
        {{ $rss := resources.GetRemote $rssUrl }}
        {{ $items := $rss | transform.Unmarshal }}
        <section class="widget archives">
            <div class="widget-icon">
                {{ partial "helper/icon" "rss" }}
            </div>
            <h2 class="widget-title section-title">
                <a href="https://news.lawtee.com/" target="_blank">News</a>
            </h2>
            <div class="widget-archive--list">
                <ul>
            {{ range first 7 $items.channel.item }} 
                <li>
                    <a href="{{ .link }}" target="_blank">{{ .title }}</a>
                </li>
            {{ end }}
                </ul>
            </div>
        </section>            
    </aside>
{{ end }}